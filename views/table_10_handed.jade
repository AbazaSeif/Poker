#table-wrap
	#modal-wrap(ng-show="showBuyInModal")
		#modal
			form(ng-submit="sitOnTheTable(seat)")
				h1 {{table.name}}
				p.table-requirements Max buy-in {{table.maxBuyIn}}
				p.table-requirements Min buy-in {{table.minBuyIn}}
				p.table-requirements You have a total of {{$root.totalChips}} chips
				p.table-requirements.error(ng-show="buyInError") {{buyInError}}
				input.input-left(type="number", ng-model="buyInAmount", ng-trim="true" required)
				input(type="submit", value="Sit in")
		#curtain(ng-show="showBuyInModal" ng-click="showBuyInModal=false;")
	.table
		.felt
	.row
		.cell
			a#to-lobby.button(href="/", ng-show="!$root.sittingOnTable", ng-click="leaveRoom()") < Lobby
			.player-wrap.top.left
				.player-cards(ng-class="{dealt: table.seats[0].hasCards}")
					div.card(ng-show="seatOccupied(0)" ng-class="getCardClass( 0, 0 )")
					div.card(ng-show="seatOccupied(0)" ng-class="getCardClass( 0, 1 )")
				.seat(ng-show="seatOccupied(0)", ng-class="{active: table.activeSeat===0}")
					a.sitIn(ng-show="!table.seats[0].name", ng-click="showBuyInModal=true; seat=0;") Sit In
					.player-content(ng-show="table.seats[0].name")
						p {{table.seats[0].name}}
						p(ng-show="table.seats[0].sittingIn") {{table.seats[0].chipsInPlay}}
						p(ng-show="!table.seats[0].sittingIn") Sitting Out
				#dealer-wrap-0.dealer-button(ng-show="table.dealerSeat===0") D
				#bets-0.bets
					span(ng-show="table.seats[0].bet") {{table.seats[0].bet}}
		.cell
			.player-wrap
				.player-cards(ng-class="{dealt: table.seats[1].hasCards}")
					div.card(ng-show="seatOccupied(1)" ng-class="getCardClass( 1, 0 )")
					div.card(ng-show="seatOccupied(1)" ng-class="getCardClass( 1, 1 )")
				.seat(ng-show="seatOccupied(1)", ng-class="{active: table.activeSeat===1}")
					a.sitIn(ng-show="!table.seats[1].name", ng-click="showBuyInModal=true; seat=1;") Sit In
					.player-content(ng-show="table.seats[1].name")
						p {{table.seats[1].name}}
						p(ng-show="table.seats[1].sittingIn") {{table.seats[1].chipsInPlay}}
						p(ng-show="!table.seats[1].sittingIn") Sitting Out
				#dealer-wrap-1.dealer-button(ng-show="table.dealerSeat==1") D
				#bets-1.bets
					span(ng-show="table.seats[1].bet") {{table.seats[1].bet}}
		.cell
			.player-wrap
				.player-cards(ng-class="{dealt: table.seats[2].hasCards}")
					div.card(ng-show="seatOccupied(2)" ng-class="getCardClass( 2, 0 )")
					div.card(ng-show="seatOccupied(2)" ng-class="getCardClass( 2, 1 )")
				.seat(ng-show="seatOccupied(2)", ng-class="{active: table.activeSeat===2}")
					a.sitIn(ng-show="!table.seats[2].name", ng-click="showBuyInModal=true; seat=2;") Sit In
					.player-content(ng-show="table.seats[2].name")
						p {{table.seats[2].name}}
						p(ng-show="table.seats[2].sittingIn") {{table.seats[2].chipsInPlay}}
						p(ng-show="!table.seats[2].sittingIn") Sitting Out
				#dealer-wrap-2.dealer-button(ng-show="table.dealerSeat==2") D
				#bets-2.bets
					span(ng-show="table.seats[2].bet") {{table.seats[2].bet}}
		.cell
			.player-wrap.top.right
				.player-cards(ng-class="{dealt: table.seats[3].hasCards}")
					div.card(ng-show="seatOccupied(3)" ng-class="getCardClass( 3, 0 )")
					div.card(ng-show="seatOccupied(3)" ng-class="getCardClass( 3, 1 )")
				.seat(ng-show="seatOccupied(3)", ng-class="{active: table.activeSeat===3}")
					a.sitIn(ng-show="!table.seats[3].name", ng-click="showBuyInModal=true; seat=3;") Sit In
					.player-content(ng-show="table.seats[3].name")
						p {{table.seats[3].name}}
						p(ng-show="table.seats[3].sittingIn") {{table.seats[3].chipsInPlay}}
						p(ng-show="!table.seats[3].sittingIn") Sitting Out
				#dealer-wrap-3.dealer-button(ng-show="table.dealerSeat==3") D
				#bets-3.bets
					span(ng-show="table.seats[3].bet") {{table.seats[3].bet}}
	.row
		.cell
			.player-wrap.side
				.player-cards(ng-class="{dealt: table.seats[9].hasCards}")
					div.card(ng-show="seatOccupied(9)" ng-class="getCardClass( 9, 0 )")
					div.card(ng-show="seatOccupied(9)" ng-class="getCardClass( 9, 1 )")
				.seat(ng-show="seatOccupied(9)", ng-class="{active: table.activeSeat===9}")
					a.sitIn(ng-show="!table.seats[9].name", ng-click="showBuyInModal=true; seat=9;") Sit In
					.player-content(ng-show="table.seats[9].name")
						p {{table.seats[9].name}}
						p(ng-show="table.seats[9].sittingIn") {{table.seats[9].chipsInPlay}}
						p(ng-show="!table.seats[9].sittingIn") Sitting Out
				#dealer-wrap-9.dealer-button(ng-show="table.dealerSeat==9") D
				#bets-9.bets
					span(ng-show="table.seats[9].bet") {{table.seats[9].bet}}
		.double-cell
			#pot-wrap
				span#pot(ng-show="table.pot[0].amount") {{potText()}}
			#board-wrap
				.card-container
					.card(class="card-{{table.board[0]}}" ng-show="table.board[0]")
				.card-container
					.card(class="card-{{table.board[1]}}" ng-show="table.board[1]")
				.card-container
					.card(class="card-{{table.board[2]}}" ng-show="table.board[2]")
				.card-container
					.card(class="card-{{table.board[3]}}" ng-show="table.board[3]")
				.card-container
					.card(class="card-{{table.board[4]}}" ng-show="table.board[4]")
		.cell
			.player-wrap.side
				.player-cards(ng-class="{dealt: table.seats[4].hasCards}")
					div.card(ng-show="seatOccupied(4)" ng-class="getCardClass( 4, 0 )")
					div.card(ng-show="seatOccupied(4)" ng-class="getCardClass( 4, 1 )")
				.seat(ng-show="seatOccupied(4)", ng-class="{active: table.activeSeat===4}")
					a.sitIn(ng-show="!table.seats[4].name", ng-click="showBuyInModal=true; seat=4;") Sit In
					.player-content(ng-show="table.seats[4].name")
						p {{table.seats[4].name}}
						p(ng-show="table.seats[4].sittingIn") {{table.seats[4].chipsInPlay}}
						p(ng-show="!table.seats[4].sittingIn") Sitting Out
				#dealer-wrap-4.dealer-button(ng-show="table.dealerSeat==4") D
				#bets-4.bets
					span(ng-show="table.seats[4].bet") {{table.seats[4].bet}}
	.row
		.cell
			.player-wrap.bottom.left
				.player-cards(ng-class="{dealt: table.seats[8].hasCards}")
					div.card(ng-show="seatOccupied(8)" ng-class="getCardClass( 8, 0 )")
					div.card(ng-show="seatOccupied(8)" ng-class="getCardClass( 8, 1 )")
				.seat(ng-show="seatOccupied(8)", ng-class="{active: table.activeSeat===8}")
					a.sitIn(ng-show="!table.seats[8].name", ng-click="showBuyInModal=true; seat=8;") Sit In
					.player-content(ng-show="table.seats[8].name")
						p {{table.seats[8].name}}
						p(ng-show="table.seats[8].sittingIn") {{table.seats[8].chipsInPlay}}
						p(ng-show="!table.seats[8].sittingIn") Sitting Out
				#dealer-wrap-8.dealer-button(ng-show="table.dealerSeat==8") D
				#bets-8.bets
					span(ng-show="table.seats[8].bet") {{table.seats[8].bet}}
		.cell
			.player-wrap
				.player-cards(ng-class="{dealt: table.seats[7].hasCards}")
					div.card(ng-show="seatOccupied(7)" ng-class="getCardClass( 7, 0 )")
					div.card(ng-show="seatOccupied(7)" ng-class="getCardClass( 7, 1 )")
				.seat(ng-show="seatOccupied(7)", ng-class="{active: table.activeSeat===7}")
					a.sitIn(ng-show="!table.seats[7].name", ng-click="showBuyInModal=true; seat=7;") Sit In
					.player-content(ng-show="table.seats[7].name")
						p {{table.seats[7].name}}
						p(ng-show="table.seats[7].sittingIn") {{table.seats[7].chipsInPlay}}
						p(ng-show="!table.seats[7].sittingIn") Sitting Out
				#dealer-wrap-7.dealer-button(ng-show="table.dealerSeat==7") D
				#bets-7.bets
					span(ng-show="table.seats[7].bet") {{table.seats[7].bet}}
		.cell
			.player-wrap
				.player-cards(ng-class="{dealt: table.seats[6].hasCards}")
					div.card(ng-show="seatOccupied(6)" ng-class="getCardClass( 6, 0 )")
					div.card(ng-show="seatOccupied(6)" ng-class="getCardClass( 6, 1 )")
				.seat(ng-show="seatOccupied(6)", ng-class="{active: table.activeSeat===6}")
					a.sitIn(ng-show="!table.seats[6].name", ng-click="showBuyInModal=true; seat=6;") Sit In
					.player-content(ng-show="table.seats[6].name")
						p {{table.seats[6].name}}
						p(ng-show="table.seats[6].sittingIn") {{table.seats[6].chipsInPlay}}
						p(ng-show="!table.seats[6].sittingIn") Sitting Out
				#dealer-wrap-6.dealer-button(ng-show="table.dealerSeat==6") D
				#bets-6.bets
					span(ng-show="table.seats[6].bet") {{table.seats[6].bet}}
		.cell
			.player-wrap.bottom.right
				.player-cards(ng-class="{dealt: table.seats[5].hasCards}")
					div.card(ng-show="seatOccupied(5)" ng-class="getCardClass( 5, 0 )")
					div.card(ng-show="seatOccupied(5)" ng-class="getCardClass( 5, 1 )")
				.seat(ng-show="seatOccupied(5)", ng-class="{active: table.activeSeat==5}")
					a.sitIn(ng-show="!table.seats[5].name", ng-click="showBuyInModal=true; seat=5;") Sit In
					.player-content(ng-show="table.seats[5].name")
						p {{table.seats[5].name}}
						p(ng-show="table.seats[5].sittingIn") {{table.seats[5].chipsInPlay}}
						p(ng-show="!table.seats[5].sittingIn") Sitting Out
				#dealer-wrap-5.dealer-button(ng-show="table.dealerSeat==5") D
				#bets-5.bets
					span(ng-show="table.seats[5].bet") {{table.seats[5].bet}}
	.row.controls
		.chat-cell
			#chat(ng-controller="ChatController")
				#messages
				form(ng-submit="sendMessage()")
					input(type="text", ng-model="messageText")
					input(type="submit", value="â†µ")
		.cell
			button(class="control-button", ng-click="fold()", ng-show='showFoldButton()') Fold
			button(class="control-button", ng-click="postBlind(false)", ng-show='actionState === "postSmallBlind" || actionState === "postBigBlind"') Sit Out
			button(class="control-button", ng-click="leaveTable()", ng-show='showLeaveTableButton()') Leave Table
		.cell
			button(class="control-button", ng-click="sitIn()", ng-show='$root.sittingOnTable !== null && !$root.sittingIn') Sit In
			button(class="control-button", ng-click="postBlind(true)", ng-show='actionState === "postSmallBlind"') Small Blind ({{table.smallBlind}})
			button(class="control-button", ng-click="postBlind(true)", ng-show='actionState === "postBigBlind"') Big Blind ({{table.bigBlind}})
			button(class="control-button", ng-click="check()", ng-show='showCheckButton()') Check
			button(class="control-button", ng-click="call()", ng-show='showCallButton()') Call {{callAmount()}}
		.cell
			button(class="control-button", ng-click="bet()", ng-show='showBetButton()') Bet {{betAmount}}
			button(class="control-button", ng-click="raise()", ng-show='showRaiseButton()') Raise to {{betAmount}}
		.double-cell
			.cell-content
				input(type="range", ng-show='showBetRange()', min="{{minBetAmount()}}", max="{{maxBetAmount()}}", ng-model="betAmount")
				input(type="number", id="bet-input", ng-show='showBetInput()', min="{{minBetAmount()}}", max="{{maxBetAmount()}}", ng-model="betAmount", value="{{betAmount}}")
	#audio
		audio(id="fold-sound" src="/audio/fold.wav" preload="auto")
		audio(id="check-sound" src="/audio/check.wav" preload="auto")
		audio(id="call-sound" src="/audio/call.wav" preload="auto")
		audio(id="bet-sound" src="/audio/bet.wav" preload="auto")
		audio(id="raise-sound" src="/audio/raise.wav" preload="auto")